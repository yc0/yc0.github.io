<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Istio Overview | My journey</title><meta name=keywords content="OpenShift,Istio,Overview,Network"><meta name=description content="Service Connection
Traffice management

service mesh traffic management decouples traffic flow and infrastructure scaling
Pilot to specify rules for traffic management
Pilot and Envoy manage which pods receive traffic

Pilot

Manages and configures Envoy proxy
specify routing rules
Enables service discovery, dynamic updates for load balancing, routing tables

Envoy

Maintains configuration information from Pilot


Request Routing

Fine-grained approach to identify services by versions
Service versions in OpenShift service mesh implemented with OpenShift labels

Communication Between Services

clients have agnostic of different service versions
Envoy intercepts, forwards requests/responses between client and service
Routing rules configured with Pilot

Header
Tags associated with SRC/DEST
Weight associated with Version



Rule Configuration


VirtualService : Defines rules that control how requests for service are routed within service mesh"><meta name=author content="Nelson"><link rel=canonical href=https://yc0.github.io/posts/istio-overview/><link crossorigin=anonymous href=/assets/css/stylesheet.a090830a421002426baafbd314e38f149d77b4c48a12ee9312700d770b27fb26.css integrity="sha256-oJCDCkIQAkJrqvvTFOOPFJ13tMSKEu6TEnANdwsn+yY=" rel="preload stylesheet" as=style><link rel=icon href=https://yc0.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://yc0.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://yc0.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://yc0.github.io/apple-touch-icon.png><link rel=mask-icon href=https://yc0.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://yc0.github.io/posts/istio-overview/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://yc0.github.io/posts/istio-overview/"><meta property="og:site_name" content="My journey"><meta property="og:title" content="Istio Overview"><meta property="og:description" content="Service Connection Traffice management service mesh traffic management decouples traffic flow and infrastructure scaling Pilot to specify rules for traffic management Pilot and Envoy manage which pods receive traffic Pilot Manages and configures Envoy proxy specify routing rules Enables service discovery, dynamic updates for load balancing, routing tables Envoy Maintains configuration information from Pilot Request Routing Fine-grained approach to identify services by versions Service versions in OpenShift service mesh implemented with OpenShift labels Communication Between Services clients have agnostic of different service versions Envoy intercepts, forwards requests/responses between client and service Routing rules configured with Pilot Header Tags associated with SRC/DEST Weight associated with Version Rule Configuration VirtualService : Defines rules that control how requests for service are routed within service mesh"><meta property="og:locale" content="zh-tw"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-04-13T17:16:32+00:00"><meta property="article:modified_time" content="2025-10-25T10:47:02+08:00"><meta property="article:tag" content="OpenShift"><meta property="article:tag" content="Istio"><meta property="article:tag" content="Overview"><meta property="article:tag" content="Network"><meta name=twitter:card content="summary"><meta name=twitter:title content="Istio Overview"><meta name=twitter:description content="Service Connection
Traffice management

service mesh traffic management decouples traffic flow and infrastructure scaling
Pilot to specify rules for traffic management
Pilot and Envoy manage which pods receive traffic

Pilot

Manages and configures Envoy proxy
specify routing rules
Enables service discovery, dynamic updates for load balancing, routing tables

Envoy

Maintains configuration information from Pilot


Request Routing

Fine-grained approach to identify services by versions
Service versions in OpenShift service mesh implemented with OpenShift labels

Communication Between Services

clients have agnostic of different service versions
Envoy intercepts, forwards requests/responses between client and service
Routing rules configured with Pilot

Header
Tags associated with SRC/DEST
Weight associated with Version



Rule Configuration


VirtualService : Defines rules that control how requests for service are routed within service mesh"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://yc0.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Istio Overview","item":"https://yc0.github.io/posts/istio-overview/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Istio Overview","name":"Istio Overview","description":"Service Connection Traffice management service mesh traffic management decouples traffic flow and infrastructure scaling Pilot to specify rules for traffic management Pilot and Envoy manage which pods receive traffic Pilot Manages and configures Envoy proxy specify routing rules Enables service discovery, dynamic updates for load balancing, routing tables Envoy Maintains configuration information from Pilot Request Routing Fine-grained approach to identify services by versions Service versions in OpenShift service mesh implemented with OpenShift labels Communication Between Services clients have agnostic of different service versions Envoy intercepts, forwards requests/responses between client and service Routing rules configured with Pilot Header Tags associated with SRC/DEST Weight associated with Version Rule Configuration VirtualService : Defines rules that control how requests for service are routed within service mesh\n","keywords":["OpenShift","Istio","Overview","Network"],"articleBody":"Service Connection Traffice management service mesh traffic management decouples traffic flow and infrastructure scaling Pilot to specify rules for traffic management Pilot and Envoy manage which pods receive traffic Pilot Manages and configures Envoy proxy specify routing rules Enables service discovery, dynamic updates for load balancing, routing tables Envoy Maintains configuration information from Pilot Request Routing Fine-grained approach to identify services by versions Service versions in OpenShift service mesh implemented with OpenShift labels Communication Between Services clients have agnostic of different service versions Envoy intercepts, forwards requests/responses between client and service Routing rules configured with Pilot Header Tags associated with SRC/DEST Weight associated with Version Rule Configuration VirtualService : Defines rules that control how requests for service are routed within service mesh\nDestinationRule : correspond to one or more request destination hosts specified in VirtualService configuration\nMay or may not be same as actual destination workload\nMay not correspond to actual routable service in mesh\nServiceEntry: Enables requests to services outside service mesh\nGateway : Configures load balancer operating at edge of mesh for:\nHTTP/TCP ingress traffic to mesh application Egress traffic to external services Sidecar Configures sidecar proxies attached to application workloads running inside mesh Traffic Splitting Each route rule identifies one or more weighted Versions expressed using labels Conditional Rules Can qualify rules to apply only to requests that match specific condition apiVersion: networking.istio.io/v1alpha3 kind: VirtualService metadata: name: ratings spec: hosts: - ratings http: - match: - sourceLabels: app: reviews version: v2 - match: - headers: From: exact: webmaster@example.org ","wordCount":"251","inLanguage":"en","datePublished":"2020-04-13T17:16:32Z","dateModified":"2025-10-25T10:47:02+08:00","author":{"@type":"Person","name":"Nelson"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://yc0.github.io/posts/istio-overview/"},"publisher":{"@type":"Organization","name":"My journey","logo":{"@type":"ImageObject","url":"https://yc0.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://yc0.github.io/ accesskey=h title="My journey (Alt + H)">My journey</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://yc0.github.io/posts/ title="All Posts"><span>All Posts</span></a></li><li><a href=https://yc0.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://yc0.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://yc0.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://yc0.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Istio Overview</h1><div class=post-meta><span title='2020-04-13 17:16:32 +0000 UTC'>April 13, 2020</span>&nbsp;·&nbsp;<span>2 min</span>&nbsp;·&nbsp;<span>Nelson</span></div></header><div class=post-content><h1 id=service-connection>Service Connection<a hidden class=anchor aria-hidden=true href=#service-connection>#</a></h1><h2 id=traffice-management>Traffice management<a hidden class=anchor aria-hidden=true href=#traffice-management>#</a></h2><ul><li>service mesh traffic management decouples traffic flow and infrastructure scaling</li><li>Pilot to specify rules for traffic management</li><li>Pilot and Envoy manage which pods receive traffic</li></ul><h3 id=pilot>Pilot<a hidden class=anchor aria-hidden=true href=#pilot>#</a></h3><ul><li><strong>Manages and configures</strong> Envoy proxy</li><li>specify <strong>routing rules</strong></li><li>Enables service <strong>discovery</strong>, <strong>dynamic updates</strong> for load balancing, routing tables</li></ul><h3 id=envoy>Envoy<a hidden class=anchor aria-hidden=true href=#envoy>#</a></h3><ul><li>Maintains configuration information from Pilot</li></ul><h2 id=request-routing>Request Routing<a hidden class=anchor aria-hidden=true href=#request-routing>#</a></h2><ul><li>Fine-grained approach to identify services by versions</li><li>Service versions in OpenShift service mesh implemented with <strong>OpenShift labels</strong></li></ul><h3 id=communication-between-services>Communication Between Services<a hidden class=anchor aria-hidden=true href=#communication-between-services>#</a></h3><ul><li>clients have <strong>agnostic</strong> of different service versions</li><li>Envoy <strong>intercepts</strong>, forwards requests/responses between client and service</li><li>Routing rules <strong>configured with Pilot</strong><ul><li>Header</li><li>Tags associated with SRC/DEST</li><li>Weight associated with Version</li></ul></li></ul><h2 id=rule-configuration>Rule Configuration<a hidden class=anchor aria-hidden=true href=#rule-configuration>#</a></h2><ul><li><p>VirtualService : Defines rules that control how requests for service are routed within service mesh</p></li><li><p>DestinationRule : correspond to one or more request destination hosts specified in VirtualService configuration</p><ul><li><p>May or may not be same as actual destination workload</p></li><li><p>May not correspond to actual routable service in mesh</p></li></ul></li><li><p>ServiceEntry: Enables requests to services outside service mesh</p></li><li><p>Gateway : Configures load balancer operating at edge of mesh for:</p><ul><li>HTTP/TCP ingress traffic to mesh application</li><li>Egress traffic to external services</li><li>Sidecar Configures sidecar proxies attached to application workloads running inside mesh</li></ul></li></ul><h2 id=traffic-splitting>Traffic Splitting<a hidden class=anchor aria-hidden=true href=#traffic-splitting>#</a></h2><ul><li>Each route rule identifies one or more weighted</li><li>Versions expressed using labels</li></ul><h2 id=conditional-rules>Conditional Rules<a hidden class=anchor aria-hidden=true href=#conditional-rules>#</a></h2><ul><li>Can qualify rules to apply only to requests that match specific condition</li></ul><pre tabindex=0><code>apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: ratings
spec:
  hosts:
  - ratings
  http:
  - match:
    - sourceLabels:
        app: reviews
        version: v2
  - match:
    - headers:
        From: 
          exact: webmaster@example.org
</code></pre></div><footer class=post-footer><ul class=post-tags><li><a href=https://yc0.github.io/tags/openshift/>OpenShift</a></li><li><a href=https://yc0.github.io/tags/istio/>Istio</a></li><li><a href=https://yc0.github.io/tags/overview/>Overview</a></li><li><a href=https://yc0.github.io/tags/network/>Network</a></li></ul><nav class=paginav><a class=prev href=https://yc0.github.io/posts/openshift-administration/><span class=title>« Prev</span><br><span>OpenShift Administration</span>
</a><a class=next href=https://yc0.github.io/posts/kubernetes-scratch/><span class=title>Next »</span><br><span>kubernetes scratch</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://yc0.github.io/>My journey</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>