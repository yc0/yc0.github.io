<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Vtable on My journey</title><link>https://yc0.github.io/tags/vtable/</link><description>Recent content in Vtable on My journey</description><generator>Hugo -- 0.152.2</generator><language>zh-tw</language><lastBuildDate>Sat, 25 Oct 2025 10:47:02 +0800</lastBuildDate><atom:link href="https://yc0.github.io/tags/vtable/index.xml" rel="self" type="application/rss+xml"/><item><title>C++ vtable ptr &amp; vtable</title><link>https://yc0.github.io/posts/c-vtable-ptr-vtable/</link><pubDate>Tue, 08 Oct 2019 00:50:18 +0000</pubDate><guid>https://yc0.github.io/posts/c-vtable-ptr-vtable/</guid><description>&lt;h2 id="c-vtablevtable-ptr-c中的virtual"&gt;C++ vtable/vtable ptr C++中的virtual&lt;/h2&gt;
&lt;p&gt;本文參考&lt;a href="https://medium.com/theskyisblue/c-%E4%B8%AD%E9%97%9C%E6%96%BC-virtual-%E7%9A%84%E5%85%A9%E4%B8%89%E4%BA%8B-1b4e2a2dc373"&gt;C++中關於 virtual 的兩三事&lt;/a&gt;,並且加上自己的經驗而紀錄。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h3 id="static-binding-vs-dynamic-binding"&gt;static binding vs. dynamic binding&lt;/h3&gt;
&lt;p&gt;在 virtual 之前得先提到 binding。binding 一般指的是把一個東西對應到另一個東西上，在 C++ 中，binding 指的是函式呼叫與函式定義的連接，這個時機可能發生於 compile-time 或是 run-time，依據情況而定。
在 static binding 中，compiler 會在 compile-time 時就把函式定義與函式呼叫連結起來，因為比較早連接起來，所以又叫做 early binding。而在 dynamic binding 的情形中，這樣的連接會一直延遲至 run-time 才會發生，因此也可稱為 late binding。在 C++ 中，dynamic binding 主要可以透過 virtual 來達成。
在 static binding 中，由於呼叫函式的所有資訊都已經提前先知道了，所以在程式真正執行起來會比較快一些；反之，dynamic binding 的好處在於在 run-time 才決定，因此可以更彈性地呼叫函式。&lt;/p&gt;
&lt;h3 id="vtable-vtable-ptr"&gt;vtable/ vtable ptr&lt;/h3&gt;
&lt;p&gt;當我們宣告某個 class 的函式為 virtual 時，代表若有 derived class 的話，該函式可以被 redefined。virtual function 的 implementation 是透過 virtual table, or vtable 與 virtual table pointer, or vtable ptr。
只要一個 class 中有一個以上的 virtual 函式，那麼該instance(每一個由該 class 產生的 object)都會包含一個vtable與一個指向這個vtable的指標,vtable ptr。我們可以將 virtual table 想像成陣列，而陣列中的每個元素都是個指向 virtual 函式的 implementation 的指標。&lt;/p&gt;</description></item></channel></rss>